<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login —  Chess</title>
  <style>
    :root{ --bg:#071026; --card:#0b1a2a; --accent:#6b8cff; --muted:#9fb2ff }
    html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,var(--bg) 0%, #021022 100%);display:flex;align-items:center;justify-content:center;color:#e6eef8}
    .card{width:420px;max-width:92vw;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:22px;border-radius:12px;box-shadow:0 12px 40px rgba(2,6,23,.6);border:1px solid rgba(120,140,200,0.04)}
    h1{margin:0 0 6px;color:var(--accent);font-size:18px}
    p.small{margin:0 0 14px;color:var(--muted);font-size:13px}
    label{display:block;margin-top:10px;font-size:13px;color:#dfe9ff}
    input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(120,140,200,0.08);background:transparent;color:#dfe9ff;box-sizing:border-box;margin-top:6px}
    .row{display:flex;gap:8px;margin-top:12px}
    button{flex:1;padding:10px;border-radius:8px;border:none;background:var(--accent);color:white;font-weight:600;cursor:pointer}
    button.secondary{background:transparent;border:1px solid rgba(120,140,200,0.12);color:#cfe}
    .muted{font-size:13px;color:#9fb2ff;margin-top:10px}
    .foot{font-size:13px;color:#7f98d7;margin-top:12px;text-align:center}
    .logout{position:fixed;left:12px;top:12px;font-size:12px;color:#9fb2ff}
    .brand{display:flex;gap:8px;align-items:center}
    .brand .logo{width:36px;height:36px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#4b6cff);display:flex;align-items:center;justify-content:center;font-weight:700}
  </style>
  <meta name="google-site-verification" content="pD9ubpXlh3hcyuAhubvo56L1B3kIgpqnzDF3MOf-Kz8" />
</head>
<body>
  <div class="card" role="main">
    <div class="brand" style="margin-bottom:8px">
      <div class="logo">♞</div>
      <div>
        <h1>Chess — Login</h1>
        <p class="small">Sign in to continue. This is an offline/local login — credentials are stored in your browser only.</p>
      </div>
    </div>

    <label for="username">Username</label>
    <input id="username" placeholder="Enter a display name (e.g. Gaurav)" autocomplete="off" />

    <label for="password">Password (optional)</label>
    <input id="password" type="password" placeholder="(optional)" autocomplete="new-password" />

    <div style="display:flex;gap:8px;margin-top:10px;align-items:center;">
      <input id="remember" type="checkbox" />
      <label for="remember" style="margin:0;font-size:13px;color:#cfe">Remember me</label>
    </div>

    <div class="row">
      <button id="loginBtn">Sign in</button>
      <button id="guestBtn" class="secondary">Play as Guest</button>
    </div>

    <div class="muted">Tip: to create a persistent signed-in state, enable "Remember me". You can also use Guest to jump straight into the game.</div>

    <div class="foot">If you want a real server-backed login (Google/Facebook/etc.), I can add OAuth flow later.</div>
  </div>

<script>
// Simple offline login. Not secure — meant for local/offline use only.
// Behavior:
// - On sign-in/guest, store auth object in localStorage as 'chessAuth' and redirect to offline-chess.html
// - offline-chess.html should check localStorage['chessAuth'] and redirect back to this page if missing

function saveAuth(user, remember){
  const auth = { user: user, ts: Date.now() };
  try{
    if(remember) localStorage.setItem('chessAuth', JSON.stringify(auth));
    else sessionStorage.setItem('chessAuth', JSON.stringify(auth));
  }catch(e){ console.warn('Storage failed', e); }
}

function redirectToGame(){
  // If your game file is named offline-chess.html and in the same folder, this will work
  window.location.href = 'offline-chess.html';
}

function getInput(id){ return document.getElementById(id).value.trim(); }

document.getElementById('loginBtn').addEventListener('click', ()=>{
  const username = getInput('username');
  const password = getInput('password');
  const remember = document.getElementById('remember').checked;
  if(!username){ alert('Please enter a username (or use Guest).'); return; }
  // This offline example accepts any password — you could add simple rules here.
  saveAuth({name: username}, remember);
  redirectToGame();
});

document.getElementById('guestBtn').addEventListener('click', ()=>{
  // create a quick guest name with random suffix so multiple guests are distinguishable
  const guestName = 'Guest_' + Math.floor(Math.random()*9000 + 1000);
  saveAuth({name: guestName}, false);
  redirectToGame();
});

// If the user is already signed in (sessionStorage or localStorage), auto-redirect
(function(){
  try{
    const s = sessionStorage.getItem('chessAuth') || localStorage.getItem('chessAuth');
    if(s){ redirectToGame(); }
  }catch(e){}
})();
</script>
</body>
</html>
